<template>
<!-- prettier-ignore -->

  <div class="home">

    <div>
      <!-- <SearchResults :searchResults="this.searchResults"/> -->
      <!-- Revolution Slider -->
        <section id="slider">
            <div id="rev_slider_495_1_wrapper" class="rev_slider_wrapper fullwidthbanner-container" data-alias="search-form-hero42" data-source="gallery" style="margin:0px auto;background-color:transparent;padding:0px;margin-top:0px;margin-bottom:0px;">
                <!-- START REVOLUTION SLIDER 5.4.1 fullwidth mode -->
                <div id="rev_slider_495_1" class="rev_slider fullwidthabanner" style="display:none;" data-version="5.4.1">
                    <ul>
                        <!-- SLIDE  -->
                        <li data-index="rs-1708" data-transition="zoomout" data-slotamount="default" data-hideafterloop="0" data-hideslideonmobile="off" data-easein="Power4.easeInOut" data-easeout="Power4.easeInOut" data-masterspeed="2000" data-thumb="plugins/slider-revolution/assets/images/landscape-100x50.jpg" data-rotate="0" data-saveperformance="off" data-title="Intro" data-param1="" data-param2="" data-param3="" data-param4="" data-param5="" data-param6="" data-param7="" data-param8="" data-param9="" data-param10="" data-description="">
                            <!-- MAIN IMAGE -->
                            <img src="plugins/slider-revolution/assets/images/headphones.jpeg" alt="" data-bgposition="center center" data-bgfit="cover" data-bgrepeat="no-repeat" data-bgparallax="10" class="img-fluid" data-no-retina>
                            <!-- LAYERS -->
                            <!-- LAYER NR. 1 -->
                            <div class="tp-caption tp-shape tp-shapewrapper  " id="slide-1708-layer-10" data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']" data-y="['middle','middle','middle','middle']" data-voffset="['0','0','0','0']" data-width="full" data-height="full" data-whitespace="nowrap" data-type="shape" data-basealign="slide" data-responsive_offset="on" data-responsive="off" data-frames='[{"from":"opacity:0;","speed":1500,"to":"o:1;","delay":750,"ease":"Power3.easeInOut"},{"delay":"wait","speed":300,"ease":"nothing"}]' data-textAlign="['left','left','left','left']" data-paddingtop="[0,0,0,0]" data-paddingright="[0,0,0,0]" data-paddingbottom="[0,0,0,0]" data-paddingleft="[0,0,0,0]" style="z-index: 5;text-transform:left;background-color:rgba(0, 0, 0, 0);border-color:rgba(0, 0, 0, 0.50);border-width:0px;"> </div>
                            <!-- LAYER NR. 2 -->
                            <!-- <div class="tp-caption NotGeneric-Icon   tp-resizeme" id="slide-1708-layer-8" data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']" data-y="['middle','middle','middle','middle']" data-voffset="['-62','-68','-78','-78']" data-width="none" data-height="none" data-whitespace="nowrap" data-type="text" data-responsive_offset="on" data-frames='[{"from":"y:[100%];z:0;rX:0deg;rY:0;rZ:0;sX:1;sY:1;skX:0;skY:0;opacity:0;","mask":"x:0px;y:[100%];s:inherit;e:inherit;","speed":1500,"to":"o:1;","delay":1000,"ease":"Power4.easeInOut"},{"delay":"wait","speed":1000,"to":"y:[100%];","mask":"x:inherit;y:inherit;s:inherit;e:inherit;","ease":"Power2.easeInOut"}]' data-textAlign="['left','left','left','left']" data-paddingtop="[0,0,0,0]" data-paddingright="[0,0,0,0]" data-paddingbottom="[0,0,0,0]" data-paddingleft="[0,0,0,0]" style="z-index: 6; white-space: nowrap;text-transform:left;cursor:default;"><i class="fa fa-icon-wordpres"></i> </div> -->
                            <!-- LAYER NR. 3 -->
                            <div class="tp-caption NotGeneric-Title   tp-resizeme" id="slide-1708-layer-1" data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']" data-y="['middle','middle','middle','middle']" data-voffset="['0','0','-22','-29']" data-fontsize="['50','70','40','30']" data-lineheight="['50','70','40','30']" data-width="none" data-height="none" data-whitespace="nowrap" data-type="text" data-responsive_offset="on" data-frames='[{"from":"z:0;rX:0deg;rY:0;rZ:0;sX:1.5;sY:1.5;skX:0;skY:0;opacity:0;","mask":"x:0px;y:0px;s:inherit;e:inherit;","speed":1500,"to":"o:1;","delay":1000,"ease":"Power3.easeInOut"},{"delay":"wait","speed":1000,"to":"y:[100%];","mask":"x:inherit;y:inherit;s:inherit;e:inherit;","ease":"Power2.easeInOut"}]' data-textAlign="['left','left','left','left']" data-paddingtop="[10,10,10,10]" data-paddingright="[0,0,0,0]" data-paddingbottom="[10,10,10,10]" data-paddingleft="[0,0,0,0]" style="z-index: 7; white-space: nowrap; font-size: 50px; line-height: 50px;text-transform:left;">FIND YOUR PERFECT SONG </div>
                            <!-- LAYER NR. 4 -->
                            <div class="tp-caption NotGeneric-SubTitle   tp-resizeme" id="slide-1708-layer-4" data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']" data-y="['middle','middle','middle','middle']" data-voffset="['42','52','18','7']" data-width="none" data-height="none" data-whitespace="nowrap" data-type="text" data-responsive_offset="on" data-frames='[{"from":"y:[100%];z:0;rX:0deg;rY:0;rZ:0;sX:1;sY:1;skX:0;skY:0;opacity:0;","mask":"x:0px;y:[100%];s:inherit;e:inherit;","speed":1500,"to":"o:1;","delay":1000,"ease":"Power4.easeInOut"},{"delay":"wait","speed":1000,"to":"y:[100%];","mask":"x:inherit;y:inherit;s:inherit;e:inherit;","ease":"Power2.easeInOut"}]' data-textAlign="['left','left','left','left']" data-paddingtop="[0,0,0,0]" data-paddingright="[0,0,0,0]" data-paddingbottom="[0,0,0,0]" data-paddingleft="[0,0,0,0]" style="z-index: 8; white-space: nowrap;text-transform:left;">FIND THE PERFECT SONG FOR YOUR NEXT PLAYLIST </div>
                            <!-- LAYER NR. 5 -->
                            <div class="tp-caption NotGeneric-CallToAction  " id="slide-1708-layer-11" data-x="['center','center','center','center']" data-hoffset="['0','0','0','0']" data-y="['top','top','top','top']" data-voffset="['376','336','252','191']" data-width="none" data-height="none" data-whitespace="nowrap" data-type="text" data-responsive_offset="on" data-responsive="off" data-frames='[{"from":"y:50px;opacity:0;","speed":1500,"to":"o:1;","delay":1000,"ease":"Power4.easeInOut"},{"delay":"wait","speed":1000,"to":"opacity:0;","ease":"Power2.easeInOut"}]' data-textAlign="['left','left','left','left']" data-paddingtop="[0,0,0,0]" data-paddingright="[0,0,0,0]" data-paddingbottom="[0,0,0,0]" data-paddingleft="[0,0,0,0]" style="z-index: 9; white-space: nowrap;text-transform:left;border-color:rgba(255, 255, 255, 0);border-style:none;cursor:default;">
                                <form role="search" method="get" id="searchform" class="revtp-searchform"><input v-model="searchWord" type="text" value="" name="s" id="s" placeholder="Subject" /><input @click.prevent="doSearch" type="submit" id="searchsubmit" value="Find" /></form>
                            </div>
                        </li>
                    </ul>
                    <div class="tp-bannertimer tp-bottom" style="visibility: hidden !important;"></div>
                </div>
            </div>
        </section>
        <!-- END REVOLUTION SLIDER -->
    </div>
    
    <!-- <div>
      Search by subject: <input v-model="subjectFilter" type="text">
    </div> -->
    <div v-for="song in searchResults">
      <router-link v-bind:to="`/songs/${song.id}`">
      <h1>{{ song.title }}</h1>
      </router-link>
    </div>
    
  </div>
</template>

<style>
</style>



<script>
import axios from 'axios';
import Vue2Filters from "vue2-filters";
// import SearchResults from './SearchResults.vue'

export default {
  // components: {SearchResults},
  mixins: [Vue2Filters.mixin],

  data: function() {
    return {
      searchWord: "",
      searchResults: []
    }
  },
  methods: {
    doSearch() {
      console.log(`Searching for ${this.searchWord}`);
      axios
        .get(`/api/subjects/${this.searchWord}`)
        .then(response => {
          this.searchResults = response.data.songs;
          console.log("Search Results", this.searchResults);
        })
        // .then(this.$router.push({ path: 'search'}))
        .catch(error => {
          console.log(error);
        })
    }
  }
};
</script>
